[
  {
    "id": "patients",
    "name": "patients",
    "type": "base",
    "system": false,
    "schema": [
      {"name": "first_name", "type": "text", "required": false},
      {"name": "middle_name", "type": "text", "required": false},
      {"name": "last_name", "type": "text", "required": false},
      {"name": "email", "type": "email", "required": false},
      {"name": "phone", "type": "text", "required": false},
      {"name": "date_of_birth", "type": "date", "required": false},
      {"name": "gender", "type": "text", "required": false},
      {"name": "sex", "type": "text", "required": false},
      {"name": "address_street", "type": "text", "required": false},
      {"name": "address_unit", "type": "text", "required": false},
      {"name": "city", "type": "text", "required": false},
      {"name": "state", "type": "text", "required": false},
      {"name": "country", "type": "text", "required": false},
      {"name": "zipcode", "type": "text", "required": false},
      {"name": "allergies", "type": "text", "required": false},
      {"name": "pharmacy_name", "type": "text", "required": false},
      {"name": "pharmacy_phone", "type": "text", "required": false},
      {"name": "profile_notes", "type": "text", "required": false},
      {"name": "provider", "type": "text", "required": false},
      {"name": "referral_source", "type": "text", "required": false}
    ],
    "indexes": [],
    "listRule": "@request.auth.id != ''",
    "viewRule": "@request.auth.id != ''",
    "createRule": "@request.auth.id != ''",
    "updateRule": "@request.auth.id != ''",
    "deleteRule": "@request.auth.id != ''"
  },
  {
    "id": "notes",
    "name": "notes",
    "type": "base",
    "system": false,
    "schema": [
      {"name": "user", "type": "relation", "required": true, "options": {"collectionId": "_pb_users_auth_", "cascadeDelete": false}},
      {"name": "patient", "type": "relation", "required": false, "options": {"collectionId": "patients", "cascadeDelete": false}},
      {"name": "chief_complaint", "type": "text", "required": false},
      {"name": "appointment_date", "type": "date", "required": false},
      {"name": "appointment_time", "type": "text", "required": true},
      {"name": "appointment_type", "type": "text", "required": false},
      {"name": "appointment_specialty", "type": "text", "required": false},
      {"name": "appointment_summary", "type": "text", "required": false},
      {"name": "audio_transcript", "type": "text", "required": false},
      {"name": "audio_file", "type": "file", "required": false, "options": {"maxSelect": 1, "maxSize": 104857600}},
      {"name": "pdf_file", "type": "file", "required": false, "options": {"maxSelect": 1, "maxSize": 10485760}},
      {"name": "soap_subjective", "type": "text", "required": false},
      {"name": "soap_objective", "type": "text", "required": false},
      {"name": "soap_assessment", "type": "text", "required": false},
      {"name": "soap_plan", "type": "text", "required": false},
      {"name": "patient_instructions", "type": "text", "required": false},
      {"name": "differential_diagnosis", "type": "text", "required": false},
      {"name": "discharge_instructions", "type": "text", "required": false},
      {"name": "allergies", "type": "text", "required": false},
      {"name": "patient_age_years", "type": "number", "required": false},
      {"name": "patient_location", "type": "text", "required": false},
      {"name": "status", "type": "text", "required": false},
      {"name": "consent", "type": "bool", "required": false},
      {"name": "doctor_signature", "type": "text", "required": false},
      {"name": "feedback", "type": "text", "required": false},
      {"name": "transcription_cost", "type": "number", "required": false},
      {"name": "analysis_cost", "type": "number", "required": false},
      {"name": "transcription_time", "type": "text", "required": false},
      {"name": "combined_text", "type": "text", "required": false},
      {"name": "image_urls", "type": "json", "required": false}
    ],
    "indexes": [],
    "listRule": "@request.auth.id != '' && user = @request.auth.id",
    "viewRule": "@request.auth.id != '' && user = @request.auth.id",
    "createRule": "@request.auth.id != ''",
    "updateRule": "@request.auth.id != '' && user = @request.auth.id",
    "deleteRule": "@request.auth.id != '' && user = @request.auth.id"
  },
  {
    "id": "templates",
    "name": "templates",
    "type": "base",
    "system": false,
    "schema": [
      {"name": "user", "type": "relation", "required": false, "options": {"collectionId": "_pb_users_auth_", "cascadeDelete": false}},
      {"name": "chief_complaint", "type": "text", "required": false},
      {"name": "soap_subjective", "type": "text", "required": false},
      {"name": "soap_objective", "type": "text", "required": false},
      {"name": "soap_assessment", "type": "text", "required": false},
      {"name": "soap_plan", "type": "text", "required": false},
      {"name": "patient_instructions", "type": "text", "required": false}
    ],
    "indexes": [],
    "listRule": "@request.auth.id != '' && user = @request.auth.id",
    "viewRule": "@request.auth.id != '' && user = @request.auth.id",
    "createRule": "@request.auth.id != ''",
    "updateRule": "@request.auth.id != '' && user = @request.auth.id",
    "deleteRule": "@request.auth.id != '' && user = @request.auth.id"
  },
  {
    "id": "user_settings",
    "name": "user_settings",
    "type": "base",
    "system": false,
    "schema": [
      {"name": "user", "type": "relation", "required": true, "options": {"collectionId": "_pb_users_auth_", "cascadeDelete": true, "maxSelect": 1}},
      {"name": "appointment_types", "type": "json", "required": false},
      {"name": "appointment_types_default", "type": "text", "required": false},
      {"name": "appointment_specialties", "type": "json", "required": false},
      {"name": "appointment_specialties_default", "type": "text", "required": false}
    ],
    "indexes": ["CREATE UNIQUE INDEX idx_user ON user_settings (user)"],
    "listRule": "@request.auth.id != '' && user = @request.auth.id",
    "viewRule": "@request.auth.id != '' && user = @request.auth.id",
    "createRule": "@request.auth.id != ''",
    "updateRule": "@request.auth.id != '' && user = @request.auth.id",
    "deleteRule": "@request.auth.id != '' && user = @request.auth.id"
  },
  {
    "id": "waitlist",
    "name": "waitlist",
    "type": "base",
    "system": false,
    "schema": [
      {"name": "email", "type": "email", "required": false},
      {"name": "note", "type": "text", "required": false}
    ],
    "indexes": [],
    "listRule": null,
    "viewRule": null,
    "createRule": "",
    "updateRule": null,
    "deleteRule": null
  }
]
